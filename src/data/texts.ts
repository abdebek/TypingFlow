export const textData = {
  quotes: [
    "The only way to do great work is to love what you do. If you haven't found it yet, keep looking. Don't settle.",
    "Innovation distinguishes between a leader and a follower. Stay hungry, stay foolish, and never stop learning.",
    "Success is not final, failure is not fatal: it is the courage to continue that counts. Keep moving forward.",
    "The future belongs to those who believe in the beauty of their dreams. Chase your vision with persistence.",
    "It is during our darkest moments that we must focus to see the light. Resilience builds character.",
    "Life is what happens to you while you're busy making other plans. Embrace the unexpected moments.",
    "The greatest glory in living lies not in never falling, but in rising every time we fall.",
    "Be yourself; everyone else is already taken. Authenticity is your greatest strength in this world.",
    "Two things are infinite: the universe and human stupidity; and I'm not sure about the universe.",
    "In the end, we will remember not the words of our enemies, but the silence of our friends.",
    // Longer quotes for extended tests
    "The journey of a thousand miles begins with one step. Every great achievement starts with the decision to try. Success is not about the destination, but about the person you become along the way. Embrace challenges as opportunities to grow, learn from failures as stepping stones to wisdom, and celebrate small victories as fuel for greater accomplishments. Remember that persistence beats resistance, consistency trumps intensity, and patience paired with action creates miracles. Your dreams are valid, your goals are achievable, and your potential is limitless when you commit to continuous improvement and never give up on yourself.",
    "In the realm of technology and human progress, we stand at the crossroads of infinite possibility. The digital age has transformed how we communicate, learn, work, and connect with one another across vast distances. Artificial intelligence, machine learning, and automation are reshaping industries and creating new opportunities for innovation. Yet, amidst all this technological advancement, the human element remains irreplaceable. Creativity, empathy, critical thinking, and emotional intelligence are the skills that will define success in the future. We must embrace change while staying true to our core values, use technology as a tool for good, and remember that progress is only meaningful when it serves humanity and makes the world a better place for all.",
    "The art of communication extends far beyond mere words spoken or written. It encompasses body language, tone of voice, active listening, and the ability to understand perspectives different from our own. Effective communication builds bridges between cultures, resolves conflicts, and creates lasting relationships. In our interconnected world, the ability to convey ideas clearly and persuasively has become more valuable than ever. Whether in personal relationships, professional settings, or global diplomacy, those who master the nuances of communication hold the keys to influence, understanding, and positive change. Practice patience in your conversations, seek first to understand before being understood, and remember that sometimes the most powerful communication happens in moments of thoughtful silence."
  ],
  programming: [
    "function calculateFibonacci(n) { if (n <= 1) return n; return calculateFibonacci(n - 1) + calculateFibonacci(n - 2); }",
    "const users = await fetch('/api/users').then(response => response.json()).catch(error => console.error(error));",
    "class DataProcessor { constructor(data) { this.data = data; } process() { return this.data.filter(Boolean).map(item => item.trim()); } }",
    "const debounce = (func, delay) => { let timeoutId; return (...args) => { clearTimeout(timeoutId); timeoutId = setTimeout(() => func.apply(this, args), delay); }; };",
    "import React, { useState, useEffect } from 'react'; export default function Component() { const [state, setState] = useState(null); return <div>{state}</div>; }",
    "async function processData(items) { const results = []; for (const item of items) { try { const result = await transform(item); results.push(result); } catch (error) { console.error(error); } } return results; }",
    "const memoize = (fn) => { const cache = new Map(); return (...args) => { const key = JSON.stringify(args); if (cache.has(key)) return cache.get(key); const result = fn(...args); cache.set(key, result); return result; }; };",
    "interface User { id: number; name: string; email: string; isActive: boolean; } type UserUpdate = Partial<Pick<User, 'name' | 'email'>>;",
    "SELECT users.name, COUNT(orders.id) as order_count FROM users LEFT JOIN orders ON users.id = orders.user_id GROUP BY users.id HAVING order_count > 5;",
    "git add . && git commit -m 'feat: implement user authentication with JWT tokens and refresh mechanism' && git push origin feature/auth",
    // Longer programming content
    "class AdvancedDataStructure { constructor(initialCapacity = 16) { this.capacity = initialCapacity; this.size = 0; this.buckets = new Array(this.capacity).fill(null).map(() => []); this.loadFactor = 0.75; } hash(key) { let hash = 0; for (let i = 0; i < key.length; i++) { const char = key.charCodeAt(i); hash = ((hash << 5) - hash) + char; hash = hash & hash; } return Math.abs(hash) % this.capacity; } set(key, value) { const index = this.hash(key); const bucket = this.buckets[index]; const existingPair = bucket.find(pair => pair[0] === key); if (existingPair) { existingPair[1] = value; } else { bucket.push([key, value]); this.size++; if (this.size > this.capacity * this.loadFactor) { this.resize(); } } } get(key) { const index = this.hash(key); const bucket = this.buckets[index]; const pair = bucket.find(pair => pair[0] === key); return pair ? pair[1] : undefined; } resize() { const oldBuckets = this.buckets; this.capacity *= 2; this.size = 0; this.buckets = new Array(this.capacity).fill(null).map(() => []); for (const bucket of oldBuckets) { for (const [key, value] of bucket) { this.set(key, value); } } } }",
    "const createAdvancedAPIClient = (baseURL, options = {}) => { const defaultHeaders = { 'Content-Type': 'application/json', 'Accept': 'application/json', ...options.headers }; const interceptors = { request: [], response: [] }; const addRequestInterceptor = (interceptor) => { interceptors.request.push(interceptor); }; const addResponseInterceptor = (interceptor) => { interceptors.response.push(interceptor); }; const executeRequestInterceptors = async (config) => { let modifiedConfig = { ...config }; for (const interceptor of interceptors.request) { modifiedConfig = await interceptor(modifiedConfig); } return modifiedConfig; }; const executeResponseInterceptors = async (response) => { let modifiedResponse = response; for (const interceptor of interceptors.response) { modifiedResponse = await interceptor(modifiedResponse); } return modifiedResponse; }; const makeRequest = async (endpoint, config = {}) => { const url = `${baseURL}${endpoint}`; const requestConfig = await executeRequestInterceptors({ method: 'GET', headers: { ...defaultHeaders }, ...config, url }); try { const response = await fetch(requestConfig.url, requestConfig); const processedResponse = await executeResponseInterceptors(response); if (!processedResponse.ok) { throw new Error(`HTTP error! status: ${processedResponse.status}`); } return await processedResponse.json(); } catch (error) { console.error('API request failed:', error); throw error; } }; return { get: (endpoint, config) => makeRequest(endpoint, { ...config, method: 'GET' }), post: (endpoint, data, config) => makeRequest(endpoint, { ...config, method: 'POST', body: JSON.stringify(data) }), put: (endpoint, data, config) => makeRequest(endpoint, { ...config, method: 'PUT', body: JSON.stringify(data) }), delete: (endpoint, config) => makeRequest(endpoint, { ...config, method: 'DELETE' }), addRequestInterceptor, addResponseInterceptor }; };",
    "import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react'; import { debounce } from 'lodash'; import { createPortal } from 'react-dom'; interface SearchResult { id: string; title: string; description: string; category: string; relevance: number; } interface AdvancedSearchProps { onSearch: (query: string) => Promise<SearchResult[]>; placeholder?: string; debounceMs?: number; maxResults?: number; categories?: string[]; onResultSelect: (result: SearchResult) => void; } export const AdvancedSearchComponent: React.FC<AdvancedSearchProps> = ({ onSearch, placeholder = 'Search...', debounceMs = 300, maxResults = 10, categories = [], onResultSelect }) => { const [query, setQuery] = useState(''); const [results, setResults] = useState<SearchResult[]>([]); const [isLoading, setIsLoading] = useState(false); const [isOpen, setIsOpen] = useState(false); const [selectedIndex, setSelectedIndex] = useState(-1); const [error, setError] = useState<string | null>(null); const searchRef = useRef<HTMLInputElement>(null); const resultsRef = useRef<HTMLDivElement>(null); const debouncedSearch = useCallback(debounce(async (searchQuery: string) => { if (!searchQuery.trim()) { setResults([]); setIsLoading(false); return; } try { setIsLoading(true); setError(null); const searchResults = await onSearch(searchQuery); setResults(searchResults.slice(0, maxResults)); } catch (err) { setError('Search failed. Please try again.'); setResults([]); } finally { setIsLoading(false); } }, debounceMs), [onSearch, maxResults, debounceMs]); useEffect(() => { debouncedSearch(query); }, [query, debouncedSearch]); const handleKeyDown = useCallback((e: React.KeyboardEvent) => { if (!isOpen) return; switch (e.key) { case 'ArrowDown': e.preventDefault(); setSelectedIndex(prev => Math.min(prev + 1, results.length - 1)); break; case 'ArrowUp': e.preventDefault(); setSelectedIndex(prev => Math.max(prev - 1, -1)); break; case 'Enter': e.preventDefault(); if (selectedIndex >= 0 && results[selectedIndex]) { onResultSelect(results[selectedIndex]); setIsOpen(false); setQuery(''); } break; case 'Escape': setIsOpen(false); setSelectedIndex(-1); break; } }, [isOpen, selectedIndex, results, onResultSelect]); return (<div className='relative'><input ref={searchRef} type='text' value={query} onChange={(e) => setQuery(e.target.value)} onFocus={() => setIsOpen(true)} onKeyDown={handleKeyDown} placeholder={placeholder} className='w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2' />{isOpen && createPortal(<div ref={resultsRef} className='absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-96 overflow-y-auto'>{isLoading && <div className='p-4 text-center'>Loading...</div>}{error && <div className='p-4 text-red-500'>{error}</div>}{results.map((result, index) => (<div key={result.id} className={`p-3 cursor-pointer hover:bg-gray-100 ${index === selectedIndex ? 'bg-blue-100' : ''}`} onClick={() => onResultSelect(result)}><div className='font-semibold'>{result.title}</div><div className='text-sm text-gray-600'>{result.description}</div></div>))}</div>, document.body)}</div>); };"
  ],
  literature: [
    "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity.",
    "To be or not to be, that is the question: Whether 'tis nobler in the mind to suffer the slings and arrows of outrageous fortune, or to take arms against a sea of troubles.",
    "All happy families are alike; each unhappy family is unhappy in its own way. Everything was in confusion in the Oblonskys' house.",
    "In a hole in the ground there lived a hobbit. Not a nasty, dirty, wet hole, filled with the ends of worms and an oozy smell, nor yet a dry, bare, sandy hole.",
    "It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.",
    "Call me Ishmael. Some years ago—never mind how long precisely—having little or no money in my purse, and nothing particular to interest me on shore.",
    "The sun shone, having no alternative, on the nothing new. Murphy sat out of it, as though he were free, in a mew in West Brompton.",
    "Last night I dreamt I went to Manderley again. It seemed to me I stood by the iron gate leading to the drive, and for a while I could not enter.",
    "There was once a boy named Milo who didn't know what to do with himself—not just sometimes, but always. When he was in school he longed to be out.",
    "The snow began to fall as they left the highway, thick flakes that turned the world into a swirling white galaxy of stars and space.",
    // Longer literary passages
    "In the depths of winter, I finally learned that within me there lay an invincible summer. The harsh winds of adversity had stripped away all pretense, all comfort, all the familiar landmarks of my former life. Yet in that barren landscape of the soul, something remarkable began to emerge. Like a phoenix rising from ashes, or a flower pushing through concrete, the human spirit revealed its extraordinary capacity for renewal. Each day brought small victories: the ability to find beauty in a frost-covered window, to feel gratitude for a warm cup of tea, to discover strength in vulnerability. The winter of my discontent was transforming into a season of profound growth, teaching me that our greatest challenges often become our most treasured teachers, and that within every ending lies the seed of a new beginning.",
    "The old lighthouse keeper had watched over the treacherous coastline for forty-seven years, his weathered hands guiding countless ships safely to harbor through storms that would have claimed lesser souls. Each night, as he climbed the spiral staircase to light the beacon, he carried with him the weight of responsibility and the satisfaction of purpose. The lighthouse stood as a testament to human perseverance, its beam cutting through darkness and uncertainty with unwavering determination. Sailors spoke of it in hushed, reverent tones, knowing that this solitary guardian had been their salvation on more nights than they could count. As the keeper aged, he began training his successor, passing down not just the technical knowledge of maintaining the light, but the deeper wisdom of what it meant to be a beacon of hope in a world that often seemed lost at sea.",
    "The ancient library held secrets that spanned millennia, its towering shelves reaching toward vaulted ceilings painted with constellations that seemed to move in the flickering candlelight. Scholars from distant lands had journeyed here seeking knowledge that could not be found elsewhere, drawn by whispered tales of manuscripts that contained the wisdom of ages. The head librarian, a woman whose age was as mysterious as the texts she guarded, moved through the corridors with the grace of someone who had spent a lifetime among books. She knew every volume by heart, could locate any text in the vast collection with her eyes closed, and possessed an uncanny ability to match seekers with exactly the knowledge they needed, even when they themselves were uncertain of what they sought. The library was more than a repository of information; it was a living entity that breathed with the collective dreams and discoveries of humanity."
  ],
  news: [
    "Scientists have discovered a new method for converting carbon dioxide directly into useful chemicals, potentially revolutionizing industrial manufacturing processes.",
    "The global renewable energy sector continues to expand rapidly, with solar and wind power installations reaching record levels across multiple continents.",
    "Recent advances in artificial intelligence are transforming healthcare diagnostics, enabling doctors to detect diseases earlier and more accurately than ever before.",
    "Climate researchers report significant changes in ocean temperatures, with implications for weather patterns and marine ecosystems worldwide.",
    "A breakthrough in quantum computing has been achieved, bringing us closer to solving complex problems that are currently impossible for traditional computers.",
    "Urban planners are implementing innovative smart city technologies to reduce traffic congestion and improve quality of life for millions of residents.",
    "The space industry continues to evolve with private companies launching successful missions and reducing costs for satellite deployment and research.",
    "Educational institutions worldwide are adapting to digital learning environments, incorporating new technologies to enhance student engagement and outcomes.",
    "Biotechnology companies are making progress in developing personalized medicine approaches that could revolutionize treatment for various genetic conditions.",
    "Sustainable agriculture practices are being adopted globally as farmers seek to balance productivity with environmental conservation and resource management.",
    // Longer news articles
    "International researchers have announced a groundbreaking discovery in the field of renewable energy storage that could solve one of the most persistent challenges facing the transition to clean power. The new battery technology, developed through a collaboration between universities in three countries, utilizes abundant materials and can store energy for weeks rather than days. This advancement addresses the intermittency problem that has long plagued solar and wind power generation, potentially making renewable energy sources reliable enough to completely replace fossil fuels in the global energy grid. The research team reports that their prototype batteries have undergone extensive testing and show remarkable stability over thousands of charge cycles. Industry experts predict that this technology could be commercially available within five years, marking a pivotal moment in the fight against climate change and energy independence.",
    "The World Health Organization has released a comprehensive report on global mental health trends, revealing both concerning challenges and promising developments in treatment approaches. The study, which analyzed data from 195 countries over the past decade, shows a significant increase in mental health awareness and reduced stigma surrounding psychological treatment. However, it also highlights persistent gaps in access to care, particularly in developing nations and rural communities. Innovative solutions are emerging, including teletherapy platforms, AI-assisted diagnosis tools, and community-based intervention programs that are showing remarkable success rates. The report emphasizes the critical importance of integrating mental health services into primary healthcare systems and calls for increased investment in training mental health professionals. Experts note that the COVID-19 pandemic has accelerated both the need for mental health support and the adoption of digital therapeutic solutions.",
    "A major archaeological discovery in the Mediterranean has unveiled evidence of an advanced ancient civilization that challenges our understanding of early human technological development. The underwater excavation, led by an international team of marine archaeologists, has revealed sophisticated engineering structures, intricate artwork, and what appears to be an early form of written communication dating back over 4,000 years. The site, preserved by unique geological conditions, provides unprecedented insight into Bronze Age maritime culture and trade networks that spanned vast distances. Artifacts recovered from the site suggest that this civilization had developed advanced metallurgy, navigation techniques, and artistic traditions that influenced cultures across the region. The discovery is reshaping academic understanding of ancient technological capabilities and cultural exchange patterns, with implications for how we view the development of human civilization and the interconnectedness of ancient societies."
  ]
};

export function getRandomText(category: keyof typeof textData): string {
  const texts = textData[category];
  return texts[Math.floor(Math.random() * texts.length)];
}

export function generateCustomText(wordCount: number): string {
  const commonWords = [
    'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i', 'it', 'for', 'not', 'on', 'with',
    'he', 'as', 'you', 'do', 'at', 'this', 'but', 'his', 'by', 'from', 'they', 'she', 'or', 'an', 'will',
    'my', 'one', 'all', 'would', 'there', 'their', 'what', 'so', 'up', 'out', 'if', 'about', 'who', 'get',
    'which', 'go', 'when', 'make', 'can', 'like', 'time', 'no', 'just', 'him', 'know', 'take', 'people',
    'into', 'year', 'your', 'good', 'some', 'could', 'them', 'see', 'other', 'than', 'then', 'now', 'look',
    'only', 'come', 'its', 'over', 'think', 'also', 'back', 'after', 'use', 'two', 'how', 'our', 'work',
    'first', 'well', 'way', 'even', 'new', 'want', 'because', 'any', 'these', 'give', 'day', 'most', 'us',
    'world', 'life', 'hand', 'part', 'child', 'eye', 'woman', 'place', 'work', 'week', 'case', 'point',
    'government', 'company', 'number', 'group', 'problem', 'fact', 'right', 'water', 'far', 'night',
    'always', 'study', 'book', 'story', 'example', 'money', 'business', 'issue', 'service', 'health',
    'education', 'research', 'community', 'experience', 'technology', 'development', 'information', 'system'
  ];
  
  const words = [];
  for (let i = 0; i < wordCount; i++) {
    words.push(commonWords[Math.floor(Math.random() * commonWords.length)]);
  }
  
  return words.join(' ');
}

// Function to get text appropriate for test duration
export function getTextForDuration(category: keyof typeof textData, duration: number): string {
  const texts = textData[category];
  
  // For longer durations (30s+), prefer longer texts
  if (duration >= 30) {
    const longerTexts = texts.filter(text => text.length > 200);
    if (longerTexts.length > 0) {
      return longerTexts[Math.floor(Math.random() * longerTexts.length)];
    }
  }
  
  // For shorter durations, use any text
  return texts[Math.floor(Math.random() * texts.length)];
}